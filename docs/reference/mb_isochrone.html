<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Generate isochrones using the Mapbox Navigation Service Isochrone API — mb_isochrone • mapboxapi</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/readable/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Generate isochrones using the Mapbox Navigation Service Isochrone API — mb_isochrone"><meta property="og:description" content="This function returns isochrones from the Mapbox Navigation Service
Isochrone API. Isochrones are
shapes that represent the reachable area around one or more locations within
a given travel time. Isochrones can be computed for driving, walking, or
cycling routing profiles, and can optionally be set to return distances
rather than times. mb_isochrone() returns isochrones as simple
features objects in the WGS 1984 geographic coordinate system."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mapboxapi</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.9.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/mapping.html">Mapping with mapboxapi</a>
    </li>
    <li>
      <a href="../articles/navigation.html">Using navigation services with mapboxapi</a>
    </li>
    <li>
      <a href="../articles/creating-tiles.html">Creating and uploading Mapbox vector tilesets</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/walkerke/mapboxapi" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate isochrones using the Mapbox Navigation Service Isochrone API</h1>
    
    <div class="hidden name"><code>mb_isochrone.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function returns isochrones from the Mapbox Navigation Service
<a href="https://docs.mapbox.com/api/navigation/isochrone/" class="external-link">Isochrone API</a>. Isochrones are
shapes that represent the reachable area around one or more locations within
a given travel time. Isochrones can be computed for driving, walking, or
cycling routing profiles, and can optionally be set to return distances
rather than times. <code>mb_isochrone()</code> returns isochrones as simple
features objects in the WGS 1984 geographic coordinate system.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">mb_isochrone</span><span class="op">(</span>
  <span class="va">location</span>,
  profile <span class="op">=</span> <span class="st">"driving"</span>,
  time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">10</span>, <span class="fl">15</span><span class="op">)</span>,
  distance <span class="op">=</span> <span class="cn">NULL</span>,
  depart_at <span class="op">=</span> <span class="cn">NULL</span>,
  access_token <span class="op">=</span> <span class="cn">NULL</span>,
  denoise <span class="op">=</span> <span class="fl">1</span>,
  generalize <span class="op">=</span> <span class="cn">NULL</span>,
  geometry <span class="op">=</span> <span class="st">"polygon"</span>,
  output <span class="op">=</span> <span class="st">"sf"</span>,
  rate_limit <span class="op">=</span> <span class="fl">300</span>,
  keep_color_cols <span class="op">=</span> <span class="cn">FALSE</span>,
  id_column <span class="op">=</span> <span class="cn">NULL</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>location</dt>
<dd><p>A vector of form <code>c(longitude, latitude)</code>, an address that can be geocoded as a character string, or an <code>sf</code> object.</p></dd>
<dt>profile</dt>
<dd><p>One of "driving", "walking", "cycling", or "driving-traffic".
"driving" is the default.</p></dd>
<dt>time</dt>
<dd><p>A vector of isochrone contours, specified in minutes. Defaults to <code>c(5, 10, 15)</code>. The maximum time supported is 60 minutes. Reflects traffic conditions for the date and time at which the function is called. If reproducibility of isochrones is required, supply an argument to the <code>depart_at</code> parameter.</p></dd>
<dt>distance</dt>
<dd><p>A vector of distance contours specified in meters. If supplied, will supercede
any call to the <code>time</code> parameter as time and distance cannot be used
simultaneously. Defaults to <code>NULL</code>.</p></dd>
<dt>depart_at</dt>
<dd><p>(optional) For the "driving" or "driving-traffic" profiles, the departure date and time to reflect historical traffic patterns. If "driving-traffic" is used, live traffic will be mixed in with historical traffic for dates/times near to the current time. Should be specified as an ISO 8601 date/time, e.g. <code>"2022-03-31T09:00"</code>. If <code>NULL</code> (the default), isochrones will reflect traffic conditions at the date and time when the function is called.</p></dd>
<dt>access_token</dt>
<dd><p>A valid Mapbox access token.</p></dd>
<dt>denoise</dt>
<dd><p>A floating-point value between 0 and 1 used to remove smaller contours. 1 is the default and returns only the largest contour for an input time.</p></dd>
<dt>generalize</dt>
<dd><p>A value expressed in meters of the tolerance for the Douglas-Peucker generalization algorithm used to simplify the isochrone shapes. If <code>NULL</code> (the default), the Mapbox API will choose an optimal value for you.</p></dd>
<dt>geometry</dt>
<dd><p>one of <code>"polygon"</code> (the default), which returns isochrones as polygons, or alternatively <code>"linestring"</code>, which returns isochrones as linestrings.</p></dd>
<dt>output</dt>
<dd><p>one of <code>"sf"</code> (the default), which returns an <code>sf</code> object representing the isochrone(s), or <code>"list"</code>, which returns the GeoJSON response from the API as an R list.</p></dd>
<dt>rate_limit</dt>
<dd><p>The rate limit for the API, expressed in maximum number of calls per minute. For most users this will be 300 though this parameter can be modified based on your Mapbox plan. Used when <code>location</code> is <code>"sf"</code>.</p></dd>
<dt>keep_color_cols</dt>
<dd><p>Whether or not to retain the color columns that the Mapbox API generates by default (applies when the output is an <code>sf</code> object). Defaults to <code>FALSE</code>.</p></dd>
<dt>id_column</dt>
<dd><p>If the input dataset is an <code>sf</code> object, the column in your dataset you want to use as the isochrone ID. Otherwise, isochrone IDs will be identified by row index or position.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>An <code>sf</code> object representing the isochrone(s) around the location(s).</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">mapboxapi</span><span class="op">)</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://symbolixau.github.io/mapdeck/articles/mapdeck.html" class="external-link">mapdeck</a></span><span class="op">)</span></span>
<span class="r-in"><span class="va">isochrones</span> <span class="op">&lt;-</span> <span class="fu">mb_isochrone</span><span class="op">(</span><span class="st">"The Kremlin, Moscow Russia"</span>,</span>
<span class="r-in">  time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">8</span>, <span class="fl">12</span><span class="op">)</span>,</span>
<span class="r-in">  profile <span class="op">=</span> <span class="st">"walking"</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/mapdeck/man/mapdeck.html" class="external-link">mapdeck</a></span><span class="op">(</span>style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/mapdeck/man/mapdeck_style.html" class="external-link">mapdeck_style</a></span><span class="op">(</span><span class="st">"light"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/mapdeck/man/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="https://rdrr.io/pkg/mapdeck/man/add_polygon.html" class="external-link">add_polygon</a></span><span class="op">(</span></span>
<span class="r-in">    data <span class="op">=</span> <span class="va">isochrones</span>,</span>
<span class="r-in">    fill_colour <span class="op">=</span> <span class="st">"time"</span>,</span>
<span class="r-in">    fill_opacity <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span class="r-in">    legend <span class="op">=</span> <span class="cn">TRUE</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Kyle Walker.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer></div>

  


  

  </body></html>

